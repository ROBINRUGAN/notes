<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="common.css" />
    <link rel="stylesheet" href="layout.css" />
    <link rel="stylesheet" href="components.css" />
    <link rel="stylesheet" href="modals.css" />
    <link rel="stylesheet" href="themes.css" />
    <title>Diary Management System</title>
  </head>
  <body>
    <div class="app-container">
      <!-- Sidebar for categories -->
      <aside class="sidebar">
        <h2>笔记分类</h2>

        <div class="theme-ctrl">
          <label for="theme-select">选择主题:</label>
          <select id="theme-select">
            <option value="theme-blue" selected>清新蓝</option>
            <option value="theme-dark">暗黑模式</option>
            <option value="theme-yellow">明媚黄</option>
            <option value="theme-purple">浪漫紫</option>
            <option value="theme-green">清爽绿</option>
          </select>
          <!-- 月亮/太阳切换按钮 -->
          <button id="mode-toggle-btn" class="mode-toggle-btn">🌙</button>
        </div>

        <ul class="folder-list">
          <!-- <li class="folder-item" data-folder="all">全部笔记</li>
          <li class="folder-item" data-folder="work">未分类</li>
          <li class="folder-item" data-folder="personal">
            <p>工作</p>
            <button class="edit-note-btn">✏️</button>
            <button class="delete-note-btn">❌</button>
          </li>
          <li class="folder-item" data-folder="ideas">
            <p>生活</p>
            <button class="edit-note-btn">✏️</button>
            <button class="delete-note-btn">❌</button>
          </li> -->
        </ul>
        <button class="add-folder">+ 添加分类</button>
      </aside>

      <!-- Note List Section -->
      <section class="note-list-section">
        <header class="search-bar">
          <input type="text" placeholder="搜索笔记..." />
          <button class="add-note-btn">+</button>
        </header>

        <!-- 新增：统计和排序容器 -->
        <div class="note-info-bar">
          <span class="note-count">共0条笔记</span>
          <div class="sort-dropdown-container">
            <button class="sort-btn">排序 ▾</button>
            <!-- 下拉框，默认隐藏，在点击 sort-btn 时切换显示/隐藏 -->
            <div class="sort-dropdown hidden">
              <ul>
                <li data-sort="createTime-asc">按创建时间 (正序)</li>
                <li data-sort="createTime-desc">按创建时间 (倒序)</li>
                <li data-sort="lastModified-asc">按修改时间 (正序)</li>
                <li data-sort="lastModified-desc">按修改时间 (倒序)</li>
                <li data-sort="title-asc">按标题 (正序)</li>
                <li data-sort="title-desc">按标题 (倒序)</li>
              </ul>
            </div>
          </div>
        </div>

        <ul class="notes">
          <!-- <li class="note-item" data-note-id="1">
            <p>笔记标题 1</p>
            <button class="delete-note-btn">❌</button>
          </li>
          <li class="note-item" data-note-id="2">
            <p>笔记标题 2</p>
            <button class="delete-note-btn">❌</button>
          </li> -->
        </ul>
      </section>

      <!-- Note Details Section -->
      <section class="note-details-section">
        <!-- 标题上方：时间信息 + 按钮操作区 -->
        <div class="note-details-header">
          <div class="note-dates">
            <p>创建时间： <span class="note-create-time"></span></p>
            <p>最后修改： <span class="note-last-modified"></span></p>
          </div>

          <div class="note-actions">
            <!-- 加密/解密按钮 -->
            <button class="encrypt-toggle-btn">🔒 加密</button>
            <button class="decrypt-toggle-btn">🔑 解密</button>

            <!-- 编辑模式开关：Markdown编辑 | 开关 | 富文本编辑 -->
            <div class="edit-mode-toggle">
              <span class="mode-label-left">Markdown编辑</span>
              <label class="switch-wrapper">
                <input type="checkbox" class="edit-mode-checkbox" />
                <span class="switch"></span>
              </label>
              <span class="mode-label-right">富文本编辑</span>
            </div>

            <!-- 导出按钮 + 下拉菜单 -->
            <div class="export-dropdown-container">
              <button class="export-btn">导出 ▾</button>
              <div class="export-dropdown hidden">
                <ul>
                  <li data-export="pdf">导出 PDF</li>
                  <li data-export="markdown">导出 Markdown</li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <hr
          style="
            margin: 10px 0;
            background-color: #ccc;
            height: 1px;
            border: none;
          "
        />

        <input class="note-title" value="笔记标题" />
        <hr
          style="
            background-color: #ccc;
            height: 1px;
            border: none;
            margin: 10px 0;
          "
        />
        <textarea class="note-content">这里显示笔记的详细内容。</textarea>
      </section>

      <!-- 自定义的密码输入对话框（初始隐藏） -->
      <div class="password-modal hidden-password-modal">
        <div class="password-modal-content">
          <h3>请输入笔记密码</h3>
          <input type="password" class="password-input" />
          <div class="modal-buttons">
            <button class="password-confirm-btn">确认</button>
            <button class="password-cancel-btn">取消</button>
          </div>
        </div>
      </div>
      <!-- 设置加密密码的对话框（初始隐藏） -->
      <div class="set-password-modal hidden-password-modal">
        <div class="set-password-modal-content">
          <h3>设置密码</h3>
          <input
            type="password"
            class="password-input"
            placeholder="请输入密码"
          />
          <input
            type="password"
            class="confirm-password-input"
            placeholder="请再次输入密码"
          />
          <div class="modal-buttons">
            <button class="password-confirm-btn">确认</button>
            <button class="password-cancel-btn">取消</button>
          </div>
        </div>
      </div>
      <!-- 解密对话框 -->
      <div class="decrypt-modal hidden-password-modal">
        <div class="decrypt-modal-content">
          <h3>解密操作</h3>
          <input
            type="password"
            class="decrypt-password-input"
            placeholder="请输入密码"
          />
          <div class="modal-buttons">
            <button class="decrypt-confirm-btn">确认</button>
            <button class="decrypt-cancel-btn">取消</button>
          </div>
        </div>
      </div>
    </div>
  </body>
  <!-- 引入JavaScript文件 -->
  <script src="DataService.js" defer></script>
  <script src="NoteDetails.js" defer></script>
  <script src="NoteList.js" defer></script>
  <script src="Category.js" defer></script>
  <script src="Common.js" defer></script>
</html>
