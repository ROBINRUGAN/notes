const translations = {
  en: {
    "title.noteCategory": "Note Categories",
    "btn.addFolder": "Add Folder",
    "btn.addNote": "Add Note",
    "btn.addNoteSymbol": "+",
    "placeholder.search": "Search notes...",
    "text.noteCount": "0 notes",
    "btn.sort": "Sort â–¾",
    "sort.createTimeAsc": "Create Time (ASC)",
    "sort.createTimeDesc": "Create Time (DESC)",
    "sort.lastModifiedAsc": "Modified Time (ASC)",
    "sort.lastModifiedDesc": "Modified Time (DESC)",
    "sort.titleAsc": "Title (ASC)",
    "sort.titleDesc": "Title (DESC)",
    "label.createTimePrefix": "Created: ",
    "label.lastModifiedPrefix": "Last Modified: ",
    "btn.encrypt": "ðŸ”’ Encrypt",
    "btn.decrypt": "ðŸ”‘ Decrypt",
    "text.markdownEdit": "Markdown Edit",
    "text.richTextEdit": "Rich Text",
    "btn.export": "Export â–¾",
    "export.pdf": "Export PDF",
    "export.markdown": "Export Markdown",
    "modal.enterPwd": "Enter Password",
    "modal.setPwd": "Set Password",
    "modal.decrypt": "Decrypt",
    "btn.confirm": "Confirm",
    "btn.cancel": "Cancel",
    "placeholder.inputPwd": "Enter password",
    "placeholder.confirmPwd": "Confirm password",

    "label.chooseTheme": "Choose Theme:",
    "option.blue": "Blue",
    "option.dark": "Dark",
    "option.yellow": "Yellow",
    "option.purple": "Purple",
    "option.green": "Green",
  },

  zh: {
    "title.noteCategory": "ç¬”è®°åˆ†ç±»",
    "btn.addFolder": "æ·»åŠ åˆ†ç±»",
    "btn.addNote": "æ·»åŠ ç¬”è®°",
    "btn.addNoteSymbol": "+",
    "placeholder.search": "æœç´¢ç¬”è®°...",
    "text.noteCount": "å…±0æ¡ç¬”è®°",
    "btn.sort": "æŽ’åº â–¾",
    "sort.createTimeAsc": "æŒ‰åˆ›å»ºæ—¶é—´ (æ­£åº)",
    "sort.createTimeDesc": "æŒ‰åˆ›å»ºæ—¶é—´ (å€’åº)",
    "sort.lastModifiedAsc": "æŒ‰ä¿®æ”¹æ—¶é—´ (æ­£åº)",
    "sort.lastModifiedDesc": "æŒ‰ä¿®æ”¹æ—¶é—´ (å€’åº)",
    "sort.titleAsc": "æŒ‰æ ‡é¢˜ (æ­£åº)",
    "sort.titleDesc": "æŒ‰æ ‡é¢˜ (å€’åº)",
    "label.createTimePrefix": "åˆ›å»ºæ—¶é—´ï¼š",
    "label.lastModifiedPrefix": "æœ€åŽä¿®æ”¹ï¼š",
    "btn.encrypt": "ðŸ”’ åŠ å¯†",
    "btn.decrypt": "ðŸ”‘ è§£å¯†",
    "text.markdownEdit": "Markdownç¼–è¾‘",
    "text.richTextEdit": "å¯Œæ–‡æœ¬ç¼–è¾‘",
    "btn.export": "å¯¼å‡º â–¾",
    "export.pdf": "å¯¼å‡º PDF",
    "export.markdown": "å¯¼å‡º Markdown",
    "modal.enterPwd": "è¯·è¾“å…¥ç¬”è®°å¯†ç ",
    "modal.setPwd": "è®¾ç½®å¯†ç ",
    "modal.decrypt": "è§£å¯†æ“ä½œ",
    "btn.confirm": "ç¡®è®¤",
    "btn.cancel": "å–æ¶ˆ",
    "placeholder.inputPwd": "è¯·è¾“å…¥å¯†ç ",
    "placeholder.confirmPwd": "è¯·å†æ¬¡è¾“å…¥å¯†ç ",

    "label.chooseTheme": "é€‰æ‹©ä¸»é¢˜:",
    "option.blue": "æ¸…æ–°è“",
    "option.dark": "æš—é»‘æ¨¡å¼",
    "option.yellow": "æ˜Žåªšé»„",
    "option.purple": "æµªæ¼«ç´«",
    "option.green": "æ¸…çˆ½ç»¿",
  },

  // ===== æ—¥è¯­ï¼ˆjaï¼‰ =====
  ja: {
    "title.noteCategory": "ãƒŽãƒ¼ãƒˆã‚«ãƒ†ã‚´ãƒª",
    "btn.addFolder": "ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’è¿½åŠ ",
    "btn.addNote": "ãƒŽãƒ¼ãƒˆã‚’è¿½åŠ ",
    "btn.addNoteSymbol": "+",
    "placeholder.search": "ãƒŽãƒ¼ãƒˆã‚’æ¤œç´¢...",
    "text.noteCount": "0 ä»¶ã®ãƒŽãƒ¼ãƒˆ",
    "btn.sort": "ä¸¦ã³æ›¿ãˆ â–¾",
    "sort.createTimeAsc": "ä½œæˆæ—¥ (æ˜‡é †)",
    "sort.createTimeDesc": "ä½œæˆæ—¥ (é™é †)",
    "sort.lastModifiedAsc": "æ›´æ–°æ—¥ (æ˜‡é †)",
    "sort.lastModifiedDesc": "æ›´æ–°æ—¥ (é™é †)",
    "sort.titleAsc": "ã‚¿ã‚¤ãƒˆãƒ« (æ˜‡é †)",
    "sort.titleDesc": "ã‚¿ã‚¤ãƒˆãƒ« (é™é †)",
    "label.createTimePrefix": "ä½œæˆæ—¥æ™‚ï¼š",
    "label.lastModifiedPrefix": "æœ€çµ‚æ›´æ–°ï¼š",
    "btn.encrypt": "ðŸ”’ æš—å·åŒ–",
    "btn.decrypt": "ðŸ”‘ å¾©å·",
    "text.markdownEdit": "Markdownç·¨é›†",
    "text.richTextEdit": "ãƒªãƒƒãƒãƒ†ã‚­ã‚¹ãƒˆ",
    "btn.export": "ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ â–¾",
    "export.pdf": "PDFã¨ã—ã¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ",
    "export.markdown": "Markdownã¨ã—ã¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ",
    "modal.enterPwd": "ãƒŽãƒ¼ãƒˆã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",
    "modal.setPwd": "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¨­å®š",
    "modal.decrypt": "ãƒŽãƒ¼ãƒˆã®å¾©å·",
    "btn.confirm": "ç¢ºèª",
    "btn.cancel": "ã‚­ãƒ£ãƒ³ã‚»ãƒ«",
    "placeholder.inputPwd": "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›",
    "placeholder.confirmPwd": "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å†å…¥åŠ›",

    "label.chooseTheme": "ãƒ†ãƒ¼ãƒžã‚’é¸æŠžï¼š",
    "option.blue": "ãƒ–ãƒ«ãƒ¼",
    "option.dark": "ãƒ€ãƒ¼ã‚¯",
    "option.yellow": "ã‚¤ã‚¨ãƒ­ãƒ¼",
    "option.purple": "ãƒ‘ãƒ¼ãƒ—ãƒ«",
    "option.green": "ã‚°ãƒªãƒ¼ãƒ³",
  },

  // ===== æ³•è¯­ï¼ˆfrï¼‰ =====
  fr: {
    "title.noteCategory": "CatÃ©gories de notes",
    "btn.addFolder": "Ajouter un dossier",
    "btn.addNote": "Ajouter une note",
    "btn.addNoteSymbol": "+",
    "placeholder.search": "Rechercher des notes...",
    "text.noteCount": "0 notes",
    "btn.sort": "Trier â–¾",
    "sort.createTimeAsc": "Date de crÃ©ation (ASC)",
    "sort.createTimeDesc": "Date de crÃ©ation (DESC)",
    "sort.lastModifiedAsc": "Date de modification (ASC)",
    "sort.lastModifiedDesc": "Date de modification (DESC)",
    "sort.titleAsc": "Titre (ASC)",
    "sort.titleDesc": "Titre (DESC)",
    "label.createTimePrefix": "CrÃ©Ã© : ",
    "label.lastModifiedPrefix": "DerniÃ¨re modification : ",
    "btn.encrypt": "ðŸ”’ Chiffrer",
    "btn.decrypt": "ðŸ”‘ DÃ©chiffrer",
    "text.markdownEdit": "Ã‰dition Markdown",
    "text.richTextEdit": "Ã‰dition Rich Text",
    "btn.export": "Exporter â–¾",
    "export.pdf": "Exporter PDF",
    "export.markdown": "Exporter Markdown",
    "modal.enterPwd": "Entrez le mot de passe",
    "modal.setPwd": "DÃ©finir le mot de passe",
    "modal.decrypt": "DÃ©chiffrer",
    "btn.confirm": "Confirmer",
    "btn.cancel": "Annuler",
    "placeholder.inputPwd": "Entrez le mot de passe",
    "placeholder.confirmPwd": "Confirmez le mot de passe",

    "label.chooseTheme": "Choisir le thÃ¨me :",
    "option.blue": "Bleu",
    "option.dark": "Sombre",
    "option.yellow": "Jaune",
    "option.purple": "Violet",
    "option.green": "Vert",
  },
};

function applyLanguage(lang) {
  const langPack = translations[lang] || translations["zh"];

  document.querySelectorAll("[data-i18n-key]").forEach((el) => {
    const key = el.getAttribute("data-i18n-key");
    if (langPack[key]) {
      el.textContent = langPack[key];
    }
  });

  document.querySelectorAll("[data-i18n-placeholder]").forEach((el) => {
    const key = el.getAttribute("data-i18n-placeholder");
    if (langPack[key]) {
      el.placeholder = langPack[key];
    }
  });
}

document.addEventListener("DOMContentLoaded", () => {
  const langSelect = document.getElementById("lang-select");

  // ä»Ž localStorage æ‹¿ä¹‹å‰è®°å½•çš„è¯­è¨€
  let savedLang = localStorage.getItem("userLanguage") || "zh";
  applyLanguage(savedLang);
  // åŒæ­¥ä¸‹æ‹‰æ¡†
  if (langSelect) langSelect.value = savedLang;

  // ç”¨æˆ·åˆ‡æ¢è¯­è¨€
  if (langSelect) {
    langSelect.addEventListener("change", (e) => {
      const newLang = e.target.value; // "en" / "zh" / "ja" / "fr" ...
      applyLanguage(newLang);
      localStorage.setItem("userLanguage", newLang);
    });
  }
});
